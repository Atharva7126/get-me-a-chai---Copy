{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/HTML%2C%20CSS%2C%20JS/Projects/Nextjs%20Project%201%20-%20GetMeAChai/get-me-a-chai/actions/useractions.js"],"sourcesContent":["\"use server\"\r\nimport Razorpay from \"razorpay\"\r\nimport Payment from \"@/models/Payment\"\r\nimport connectDB from \"@/db/connectDb\"\r\nimport User from \"@/models/User\"\r\n\r\nexport const initiatePayment = async (amount, to_username, paymentform) => {\r\n    await connectDB()\r\n    const instance = new Razorpay({\r\n        key_id: process.env.NEXT_PUBLIC_RAZORPAY_KEY_ID,\r\n        key_secret: process.env.RAZORPAY_SERET_KEY,\r\n    })\r\n\r\n    let options = {\r\n        amount: Number.parseInt(amount),\r\n        currency: \"INR\",\r\n    }\r\n\r\n    let order = await instance.orders.create(options)\r\n    await Payment.create({\r\n        amount: amount / 100,\r\n        order_id: order.id,\r\n        to_user: to_username,\r\n        name: paymentform.name,\r\n        message: paymentform.message,\r\n    })\r\n    return order\r\n}\r\n\r\nexport const fetchuser = async (username) => {\r\n    await connectDB()\r\n    const user = await User.findOne({ username: username }).lean()\r\n    if (!user) return null\r\n    return {\r\n        ...user,\r\n        _id: user._id.toString(),\r\n        createdAt: user.createdAt?.toISOString(),\r\n        updatedAt: user.updatedAt?.toISOString()\r\n    }\r\n}\r\n\r\nexport const fetchPayments = async (username) => {\r\n    await connectDB()\r\n    let payments = await Payment.find({ to_user: username, done: true }).sort({ amount: -1 }).lean()\r\n    return payments.map(p => ({\r\n        ...p,\r\n        _id: p._id.toString(),\r\n        createdAt: p.createdAt?.toISOString(),\r\n        updatedAt: p.updatedAt?.toISOString()\r\n    }))\r\n}\r\n\r\nexport const updateProfile = async (oldusername, data) => {\r\n    await connectDB()\r\n    let ndata = data\r\n    // Check if the new username already exists\r\n    if (oldusername !== ndata.username) {\r\n        let u = await User.findOne({ username: ndata.username })\r\n        if (u) {\r\n            throw new Error(\"Username already exists\")\r\n        }\r\n    }\r\n    // Dont update the email\r\n    await User.updateOne({email: ndata.email }, ndata)\r\n} "],"names":[],"mappings":";;;;;;IAoDa,gBAAA,WAAA,GAAA,CAAA,GAAA,yNAAA,CAAA,wBAAA,EAAA,8CAAA,yNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,yNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/HTML%2C%20CSS%2C%20JS/Projects/Nextjs%20Project%201%20-%20GetMeAChai/get-me-a-chai/actions/useractions.js"],"sourcesContent":["\"use server\"\r\nimport Razorpay from \"razorpay\"\r\nimport Payment from \"@/models/Payment\"\r\nimport connectDB from \"@/db/connectDb\"\r\nimport User from \"@/models/User\"\r\n\r\nexport const initiatePayment = async (amount, to_username, paymentform) => {\r\n    await connectDB()\r\n    const instance = new Razorpay({\r\n        key_id: process.env.NEXT_PUBLIC_RAZORPAY_KEY_ID,\r\n        key_secret: process.env.RAZORPAY_SERET_KEY,\r\n    })\r\n\r\n    let options = {\r\n        amount: Number.parseInt(amount),\r\n        currency: \"INR\",\r\n    }\r\n\r\n    let order = await instance.orders.create(options)\r\n    await Payment.create({\r\n        amount: amount / 100,\r\n        order_id: order.id,\r\n        to_user: to_username,\r\n        name: paymentform.name,\r\n        message: paymentform.message,\r\n    })\r\n    return order\r\n}\r\n\r\nexport const fetchuser = async (username) => {\r\n    await connectDB()\r\n    const user = await User.findOne({ username: username }).lean()\r\n    if (!user) return null\r\n    return {\r\n        ...user,\r\n        _id: user._id.toString(),\r\n        createdAt: user.createdAt?.toISOString(),\r\n        updatedAt: user.updatedAt?.toISOString()\r\n    }\r\n}\r\n\r\nexport const fetchPayments = async (username) => {\r\n    await connectDB()\r\n    let payments = await Payment.find({ to_user: username, done: true }).sort({ amount: -1 }).lean()\r\n    return payments.map(p => ({\r\n        ...p,\r\n        _id: p._id.toString(),\r\n        createdAt: p.createdAt?.toISOString(),\r\n        updatedAt: p.updatedAt?.toISOString()\r\n    }))\r\n}\r\n\r\nexport const updateProfile = async (oldusername, data) => {\r\n    await connectDB()\r\n    let ndata = data\r\n    // Check if the new username already exists\r\n    if (oldusername !== ndata.username) {\r\n        let u = await User.findOne({ username: ndata.username })\r\n        if (u) {\r\n            throw new Error(\"Username already exists\")\r\n        }\r\n    }\r\n    // Dont update the email\r\n    await User.updateOne({email: ndata.email }, ndata)\r\n} "],"names":[],"mappings":";;;;;;IA6Ba,YAAA,WAAA,GAAA,CAAA,GAAA,yNAAA,CAAA,wBAAA,EAAA,8CAAA,yNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,yNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/HTML%2C%20CSS%2C%20JS/Projects/Nextjs%20Project%201%20-%20GetMeAChai/get-me-a-chai/app/dashboard/page.js"],"sourcesContent":["\"use client\"\r\nimport { useState, useEffect } from \"react\"\r\nimport { useSession } from \"next-auth/react\"\r\nimport React from 'react'\r\nimport { updateProfile, fetchuser } from \"@/actions/useractions\"\r\n\r\nconst Dashboard = () => {\r\n  const { data: session, update } = useSession()\r\n  const [form, setform] = useState({})\r\n\r\n  useEffect(() => {\r\n    if (session && session.user?.name) {\r\n      getData()\r\n    }\r\n\r\n  }, [session])\r\n\r\n  const handleChange = (e) => {\r\n    setform({ ...form, [e.target.name]: e.target.value })\r\n  }\r\n\r\n  //\r\n  const getData = async () => {\r\n    let u = await fetchuser(session.user.name)\r\n    setform(u)\r\n  }\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault()\r\n    update()\r\n    let a = await updateProfile(session.user.name, form)\r\n    toast('ðŸ¦„ Wow so easy!', {\r\n      position: \"top-right\",\r\n      autoClose: 5000,\r\n      hideProgressBar: false,\r\n      closeOnClick: false,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n      theme: \"dark\",\r\n      transition: Bounce,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <ToastContainer\r\n        position=\"top-right\"\r\n        autoClose={5000}\r\n        hideProgressBar={false}\r\n        newestOnTop={false}\r\n        closeOnClick={false}\r\n        rtl={false}\r\n        pauseOnFocusLoss\r\n        draggable\r\n        pauseOnHover\r\n        theme=\"dark\"\r\n        transition={Bounce}\r\n      />\r\n      <div className='flex flex-col justify-center items-center mx-auto gap-1'>\r\n        <h2 className='text-2xl my-7 font-bold'>Wellcome to your Dashboard</h2>\r\n        <form className=\"flex flex-col gap-1 pt-1 w-[40%]\" onSubmit={handleSubmit}>\r\n          <label className=\"flex flex-col text-sm font-medium text-gray-200\">\r\n            Name\r\n            <input value={form.name ? form.name : \"\"} onChange={handleChange} name=\"name\" id=\"name\" type=\"text\" className='bg-slate-800 p-2 rounded-lg mt-1' />\r\n          </label>\r\n          <label className=\"flex flex-col text-sm font-medium text-gray-200\">\r\n            Email\r\n            <input disabled value={form.email ? form.email : \"\"} onChange={handleChange} name=\"email\" id=\"email\" type=\"text\" className='bg-slate-800 p-2 rounded-lg mt-1' />\r\n          </label>\r\n          <label className=\"flex flex-col text-sm font-medium text-gray-200\">\r\n            Username\r\n            <input value={form.username ? form.username : \"\"} onChange={handleChange} name=\"username\" id=\"username\" type=\"text\" className='bg-slate-800 p-2 rounded-lg mt-1' />\r\n          </label>\r\n          <label className=\"flex flex-col text-sm font-medium text-gray-200\">\r\n            Profile Picture URL\r\n            <input value={form.profilepic ? form.profilepic : \"\"} onChange={handleChange} name=\"profilepic\" id=\"profilepic\" type=\"text\" className='bg-slate-800 p-2 rounded-lg mt-1' />\r\n          </label>\r\n          <label className=\"flex flex-col text-sm font-medium text-gray-200\">\r\n            Cover Picture URL\r\n            <input value={form.coverpic ? form.coverpic : \"\"} onChange={handleChange} name=\"coverpic\" id=\"coverpic\" type=\"text\" className='bg-slate-800 p-2 rounded-lg mt-1' />\r\n          </label>\r\n          <label className=\"flex flex-col text-sm font-medium text-gray-200\">\r\n            Razorpay Key ID\r\n            <input value={form.razorpayid ? form.razorpayid : \"\"} onChange={handleChange} name=\"razorpayid\" id=\"razorpayid\" type=\"text\" className='bg-slate-800 p-2 rounded-lg mt-1' />\r\n          </label>\r\n          <label className=\"flex flex-col text-sm font-medium text-gray-200\">\r\n            Razorpay Secret Key\r\n            <input value={form.razorpaysecret ? form.razorpaysecret : \"\"} onChange={handleChange} name=\"razorpaysecret\" id=\"razorpaysecret\" type=\"text\" className='bg-slate-800 p-2 rounded-lg mt-1' />\r\n          </label>\r\n          <div className=\"flex gap-2 pt-2\">\r\n            <button className=\"bg-blue-700 w-full cursor-pointer text-white rounded py-2 px-3 hover:bg-blue-600 transition\">\r\n              Save\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Dashboard\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 330, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/HTML%2C%20CSS%2C%20JS/Projects/Nextjs%20Project%201%20-%20GetMeAChai/get-me-a-chai/node_modules/next/src/build/webpack/loaders/next-flight-loader/action-client-wrapper.ts"],"sourcesContent":["// This file must be bundled in the app's client layer, it shouldn't be directly\n// imported by the server.\n\nexport { callServer } from 'next/dist/client/app-call-server'\nexport { findSourceMapURL } from 'next/dist/client/app-find-source-map-url'\n\n// A noop wrapper to let the Flight client create the server reference.\n// See also: https://github.com/facebook/react/pull/26632\n// Since we're using the Edge build of Flight client for SSR [1], here we need to\n// also use the same Edge build to create the reference. For the client bundle,\n// we use the default and let Webpack to resolve it to the correct version.\n// 1: https://github.com/vercel/next.js/blob/16eb80b0b0be13f04a6407943664b5efd8f3d7d0/packages/next/src/server/app-render/use-flight-response.tsx#L24-L26\nexport const createServerReference = (\n  (!!process.env.NEXT_RUNTIME\n    ? // eslint-disable-next-line import/no-extraneous-dependencies\n      require('react-server-dom-webpack/client.edge')\n    : // eslint-disable-next-line import/no-extraneous-dependencies\n      require('react-server-dom-webpack/client')) as typeof import('react-server-dom-webpack/client')\n).createServerReference\n"],"names":["callServer","createServerReference","findSourceMapURL","process","env","NEXT_RUNTIME","require"],"mappings":"AAAA,gFAAgF;AAChF,0BAA0B;AAYrBG,QAAQC,GAAG,CAACC,YAAY,GAEvBC,QAAQ,0CAERA,QAAQ;;;;;;;;;;;;;;;;;IAdLN,UAAU,EAAA;eAAVA,eAAAA,UAAU;;IASNC,qBAAqB,EAAA;eAArBA;;IARJC,gBAAgB,EAAA;eAAhBA,qBAAAA,gBAAgB;;;+BADE;qCACM;AAQ1B,MAAMD,wBACV,CAAA,CAAC,+MAI2C,EAC7CA,qBAAqB","ignoreList":[0],"debugId":null}}]
}